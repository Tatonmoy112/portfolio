(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94542,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645),a=e.i(46932),r=e.i(75254);let n=(0,r.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),i=(0,r.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var l=e.i(18566),c=e.i(7471),o=e.i(75157);function u(){let[e,r]=(0,s.useState)(""),[o,u]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),x=(0,l.useRouter)(),g=(0,l.useSearchParams)(),p=async t=>{t.preventDefault(),m("");try{let{data:t,error:s}=await c.supabase.auth.signInWithPassword({email:e,password:o}),a=!1,r="";if(s){console.warn("Supabase Auth failed:",s.message);try{let t=await h(e,o);t.success?a=!0:r=t.message||"Legacy auth failed"}catch(e){console.warn("Legacy Auth Exception:",e)}}if(!s||a){document.cookie="admin_session=true; path=/; SameSite=Strict";let e=g.get("next")||"/login/studio";x.push(e)}else m(s?.message||r||"Invalid Credentials")}catch(e){console.error("Critical Login Error:",e),m("App Error: "+(e.message||String(e)))}};return(0,t.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-sm bg-neutral-900 border border-neutral-800 rounded-2xl p-8 shadow-2xl",children:[(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsx)("div",{className:"p-4 bg-neutral-800 rounded-full",children:(0,t.jsx)(n,{className:"w-6 h-6 text-white"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-center text-white mb-2",children:"Studio Access"}),(0,t.jsx)("p",{className:"text-neutral-500 text-center text-sm mb-8",children:"Sign in with your admin credentials."}),(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"email",placeholder:"admin@example.com",value:e,onChange:e=>r(e.target.value),className:"w-full bg-neutral-950 border border-neutral-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors text-center",autoFocus:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"password",placeholder:"••••••••",value:o,onChange:e=>u(e.target.value),className:"w-full bg-neutral-950 border border-neutral-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors text-center tracking-widest"})}),d&&(0,t.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg break-words",children:(0,t.jsx)("p",{className:"text-red-400 text-xs text-center font-medium",children:d})}),(0,t.jsx)("div",{className:"text-xs text-center text-neutral-600",children:"https://vgouottqsdrnjfwycxyz.supabase.co".includes("placeholder")?"⚠️ Demo Mode: Login might fail without keys":"Connected to Supabase"}),(0,t.jsxs)("button",{type:"submit",className:"w-full bg-white text-black font-bold py-3 rounded-lg hover:bg-neutral-200 transition-colors flex items-center justify-center gap-2",children:["Sign In ",(0,t.jsx)(i,{className:"w-4 h-4"})]})]})]})})}function d(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center text-white",children:"Loading..."}),children:(0,t.jsx)(u,{})})}async function h(e,t){try{let s=await fetch((0,o.ensurePath)("/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!s.ok)return{success:!1,message:`Server Error: ${s.status}`};let a=await s.json();return{success:s.ok,message:a.message}}catch(e){return{success:!1,message:e.message||"Network Error"}}}e.s(["default",()=>d],94542)}]);