(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20828,e=>{e.v({profile:{name:"Tanvir Ahmed",role:"Full Stack Developer",bio:"Ambitious ITM Undergraduate blending technical proficiency with management insight. Skilled in developing functional digital solutions across mobile and web platforms.",location:"Dhaka, Bangladesh",email:"tatonmoy112@gmail.com",phone:"+8801791116481",github:"github.com/tonmoy",linkedin:"linkedin.com/in/tanvir-ahmed-tonmoy",resumeUrl:"/resume.pdf"},stats:{cgpa:"3.52",degree:"B.Sc. in ITM",university:"Daffodil International University",gradYear:"2026"},expertise:[{category:"Frontend",skills:["React","Next.js","Tailwind CSS","Framer Motion"]},{category:"Backend",skills:["Node.js","Supabase","PostgreSQL"]},{category:"Tools",skills:["Git","Figma","VS Code"]}],projects:[{id:"1",title:"Red Shift Console",category:"UI/UX & Web Design",description:"A bold, red-themed marketplace interface concept designed in Figma. Features complex layout strategies and modern e-commerce visuals.",image:"/project1.jpg",link:"/projects/red-shift",githubUrl:"https://github.com/tonmoy/red-shift"},{id:"2",title:"ITM Dept App",category:"Mobile Application (Flutter)",description:"Cross-platform app designed to simplify information access for users (routine, notices).",image:"/project2.jpg",link:"/projects/app",githubUrl:"https://github.com/tonmoy/itm-app"},{id:"3",title:"E-Com Platform",category:"Full Stack Web",description:"Secure Business Verification & Marketplace Management Platform with admin panels.",image:"/project3.jpg",link:"/projects/ecom",githubUrl:"https://github.com/tonmoy/ecom-platform"}]})},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},13515,e=>{"use strict";e.i(47167);var t=e.i(43476),a=e.i(71645),s=e.i(75254);let l=(0,s.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),r=(0,s.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var i=e.i(84614),o=e.i(63727);let n=(0,s.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var c=e.i(31278);let d=(0,s.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),u=(0,s.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var p=e.i(63488);let m=(0,s.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),x=(0,s.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var h=e.i(18566),g=e.i(20828),b=e.i(7471);async function f(e){let t=new FormData;t.append("image",e);try{let e=await fetch("https://api.imgbb.com/1/upload?key=52c51dc97bf4710777fe3081386f813e",{method:"POST",body:t}),a=await e.json();if(a.success)return a.data.url;return console.error("ImgBB Upload Error:",a),alert("Upload failed: "+(a.error?.message||"Unknown error")),null}catch(e){return console.error("ImgBB Network Error:",e),alert("Network error during upload."),null}}function j(){let[e,s]=(0,a.useState)("profile"),[j,w]=(0,a.useState)(g.default),[k,C]=(0,a.useState)(!1),[S,M]=(0,a.useState)(!0),[U,_]=(0,a.useState)(!1),[P,z]=(0,a.useState)(!1),D=(0,h.useRouter)();if((0,a.useEffect)(()=>{(async()=>{let e=document.cookie.includes("admin_session=true"),{data:{session:t}}=await b.supabase.auth.getSession();e||t?(z(!0),I()):D.push("/studio/login")})()},[]),!P)return(0,t.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,t.jsx)(c.Loader2,{className:"w-8 h-8 text-neutral-500 animate-spin"})});let I=async()=>{M(!0);try{let{data:e}=await b.supabase.from("personal_info").select("*").limit(1).single(),{data:t}=await b.supabase.from("expertise").select("*").order("id"),{data:a}=await b.supabase.from("projects").select("*").order("id"),{data:s}=await b.supabase.from("education").select("*").order("id"),{data:l}=await b.supabase.from("posts").select("*").order("created_at",{ascending:!1}),r=e?{id:e.id,name:e.full_name,role:e.role_title,bio:e.about_bio,location:e.location_address,email:e.email_contact,phone:e.phone_contact,github:e.github_link,linkedin:e.linkedin_link,resumeUrl:e.resume_link}:j.profile,i=e?{cgpa:e.education_cgpa||"",degree:e.education_degree||"",university:e.education_uni||"",gradYear:e.grad_year||""}:j.stats,o=a?.map(e=>({...e,image:e.image_url,githubUrl:e.github_url}))||[],n=l?.map(e=>({id:e.id,content:e.content,image:e.image_url,date:e.created_at}))||[],{data:c}=await b.supabase.from("messages").select("*").order("created_at",{ascending:!1});w({profile:r,stats:i,expertise:t||[],education:s||[],projects:o,posts:n,messages:c||[]})}catch(e){console.error("Error loading data:",e)}finally{M(!1)}},A=async()=>{C(!0);try{let e={id:j.profile.id,name:j.profile.name,role:j.profile.role,bio:j.profile.bio,location:j.profile.location,email:j.profile.email,phone:j.profile.phone,github:j.profile.github,linkedin:j.profile.linkedin,facebook:j.profile.facebook,resume_url:j.profile.resumeUrl,cgpa:j.stats.cgpa,degree:j.stats.degree,university:j.stats.university,grad_year:j.stats.gradYear},t=j.projects.map(e=>({id:e.id,title:e.title,category:e.category,description:e.description,image_url:e.image,github_url:e.githubUrl,link:e.link})),a=(j.education||[]).map(e=>({institution:e.institution,degree:e.degree,year:e.year,result:e.result})),s=(j.posts||[]).map(e=>({id:e.id,content:e.content,image:e.image,date:e.date})),l=await fetch("/api/admin/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:e,projects:t,education:a,posts:s})}),r=await l.json();if(!r.success)throw Error(r.error);try{if(await b.supabase.from("expertise").delete().neq("id",0),j.expertise?.length>0){let e=j.expertise.map(e=>({category:e.category,skills:e.skills}));await b.supabase.from("expertise").insert(e)}}catch(e){console.warn("Expertise save failed:",e)}alert("Changes saved via Server API!"),await I()}catch(e){console.error("Save Error:",e),alert("Failed to save changes: "+e.message)}finally{C(!1)}},B=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),window.location.href="/studio/login"}catch(e){console.error("Logout failed",e)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white flex flex-col relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"h-16 border-b border-neutral-800 flex items-center justify-between px-6 bg-neutral-900/50 backdrop-blur-md z-40 sticky top-0",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-bold text-white",children:"S"})}),(0,t.jsx)("span",{className:"font-bold text-xl",children:"Studio."})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase font-mono text-neutral-500 hidden md:inline-block",children:"https://vgouottqsdrnjfwycxyz.supabase.co".includes("placeholder")?"⚠️ NO DB":"● Connected"}),(0,t.jsxs)("button",{onClick:B,className:"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors text-sm",children:[(0,t.jsx)(r,{size:16})," ",(0,t.jsx)("span",{className:"hidden md:inline",children:"Sign Out"})]})]})]}),(0,t.jsx)("div",{className:"border-b border-neutral-800 bg-black sticky top-16 z-30 px-6 py-1 overflow-x-auto",children:(0,t.jsxs)("div",{className:"flex gap-1 min-w-max",children:[(0,t.jsx)(v,{active:"profile"===e,onClick:()=>s("profile"),icon:(0,t.jsx)(i.User,{size:16}),label:"Profile Info"}),(0,t.jsx)(v,{active:"stats"===e,onClick:()=>s("stats"),icon:(0,t.jsx)(n,{size:16}),label:"Stats & CV"}),(0,t.jsx)(v,{active:"projects"===e,onClick:()=>s("projects"),icon:(0,t.jsx)(o.Briefcase,{size:16}),label:"Projects"}),(0,t.jsx)(v,{active:"posts"===e,onClick:()=>s("posts"),icon:(0,t.jsx)(u,{size:16}),label:"Status Posts"}),(0,t.jsx)(v,{active:"messages"===e,onClick:()=>s("messages"),icon:(0,t.jsx)(p.Mail,{size:16}),label:"Inbox"})]})}),(0,t.jsxs)("div",{className:"flex-1 p-6 md:p-10 overflow-y-auto w-full max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold",children:["profile"===e&&"Edit Profile","stats"===e&&"Vital Stats","projects"===e&&"Manage Projects","posts"===e&&"Manage Posts","messages"===e&&"Inbox Messages"]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:I,className:"bg-neutral-800 text-white px-4 py-2 rounded-lg font-bold hover:bg-neutral-700 transition-colors flex items-center gap-2",title:"Reload from DB",children:(0,t.jsx)(d,{size:16,className:S?"animate-spin":""})}),(0,t.jsx)("button",{onClick:A,disabled:k||S,className:"bg-white text-black px-6 py-2 rounded-lg font-bold hover:bg-neutral-200 transition-colors flex items-center gap-2 disabled:opacity-50",children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{size:18,className:"animate-spin"})," Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l,{size:18})," Save Changes"]})})]})]}),S?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(c.Loader2,{className:"w-8 h-8 text-neutral-500 animate-spin"})}):(0,t.jsxs)("div",{className:"max-w-3xl",children:["profile"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(y,{label:"Display Name",value:j.profile.name,onChange:e=>w({...j,profile:{...j.profile,name:e}})}),(0,t.jsx)(y,{label:"Role Title",value:j.profile.role,onChange:e=>w({...j,profile:{...j.profile,role:e}})}),(0,t.jsx)(N,{label:"Bio",value:j.profile.bio,onChange:e=>w({...j,profile:{...j.profile,bio:e}})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(y,{label:"Location",value:j.profile.location,onChange:e=>w({...j,profile:{...j.profile,location:e}})}),(0,t.jsx)(y,{label:"Email",value:j.profile.email,onChange:e=>w({...j,profile:{...j.profile,email:e}})})]})]}),"stats"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"p-6 border border-neutral-800 rounded-xl bg-neutral-900/50",children:[(0,t.jsx)("h3",{className:"font-bold text-lg mb-4",children:"CV / Resume"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm text-neutral-400 mb-2",children:"Current File"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-neutral-900 border border-neutral-800 rounded-lg",children:[(0,t.jsx)(n,{size:16,className:"text-blue-500"}),(0,t.jsx)("a",{href:j.profile.resumeUrl||"#",target:"_blank",className:"text-sm text-blue-400 hover:underline truncate",children:j.profile.resumeUrl||"No CV Uploaded"})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-neutral-400 mb-2 block",children:"Upload New PDF/Word"}),(0,t.jsx)("input",{type:"file",accept:".pdf,.doc,.docx",onChange:async e=>{let t=e.target.files?.[0];if(!t)return;let a=new FormData;a.append("file",t);try{let e=await fetch("/api/upload/cv",{method:"POST",body:a}),t=await e.json();t.success?(w({...j,profile:{...j.profile,resumeUrl:t.url}}),await b.supabase.from("profile").upsert({resume_url:t.url}),alert("Upload Successful & Saved!")):alert("Upload Failed: "+t.message)}catch(e){alert("Error uploading file.")}},className:"block w-full text-sm text-neutral-400   file:mr-4 file:py-2 file:px-4   file:rounded-full file:border-0   file:text-sm file:font-semibold   file:bg-blue-600 file:text-white   hover:file:bg-blue-700   cursor-pointer"})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border border-neutral-800 rounded-xl bg-neutral-900/50",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"Education History"}),(0,t.jsx)("div",{className:"text-xs text-neutral-500",children:"Add multiple schools"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[j.education?.map((e,a)=>(0,t.jsx)("div",{className:"p-4 border border-neutral-800 rounded-lg bg-black/40",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(y,{label:"Institution",value:e.institution,onChange:e=>{let t=[...j.education];t[a].institution=e,w({...j,education:t})}}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(y,{label:"Degree",value:e.degree,onChange:e=>{let t=[...j.education];t[a].degree=e,w({...j,education:t})}}),(0,t.jsx)(y,{label:"Year",value:e.year,onChange:e=>{let t=[...j.education];t[a].year=e,w({...j,education:t})}})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(y,{label:"Result (e.g. CGPA)",value:e.result,onChange:e=>{let t=[...j.education];t[a].result=e,w({...j,education:t})}})}),(0,t.jsx)("button",{onClick:()=>{let e=j.education.filter((e,t)=>t!==a);w({...j,education:e})},className:"mb-1 p-3 bg-red-900/20 text-red-500 rounded-lg hover:bg-red-900/40",children:"X"})]})]})},a)),(0,t.jsx)("button",{onClick:()=>w({...j,education:[...j.education||[],{institution:"New Institution",degree:"Degree",year:"2024",result:""}]}),className:"w-full py-2 border border-dashed border-neutral-800 rounded-lg text-sm text-neutral-500 hover:text-white hover:border-neutral-600 transition-colors",children:"+ Add Education"})]})]}),(0,t.jsxs)("div",{className:"p-6 border border-neutral-800 rounded-xl bg-neutral-900/50",children:[(0,t.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Expertise & Skills"}),(0,t.jsxs)("div",{className:"space-y-4",children:[j.expertise?.map((e,a)=>(0,t.jsxs)("div",{className:"p-4 border border-neutral-800 rounded-lg bg-black/40",children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(y,{label:"Category Name",value:e.category,onChange:e=>{let t=[...j.expertise];t[a].category=e,w({...j,expertise:t})}})}),(0,t.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(y,{label:"Skills (Comma separated)",value:Array.isArray(e.skills)?e.skills.join(", "):e.skills,onChange:e=>{let t=[...j.expertise];t[a].skills=e.split(",").map(e=>e.trim()),w({...j,expertise:t})}})}),(0,t.jsx)("button",{onClick:()=>{let e=j.expertise.filter((e,t)=>t!==a);w({...j,expertise:e})},className:"mb-1 p-3 bg-red-900/20 text-red-500 rounded-lg hover:bg-red-900/40",children:"X"})]})]},a)),(0,t.jsx)("button",{onClick:()=>w({...j,expertise:[...j.expertise||[],{category:"New Category",skills:[]}]}),className:"w-full py-2 border border-dashed border-neutral-800 rounded-lg text-sm text-neutral-500 hover:text-white hover:border-neutral-600 transition-colors",children:"+ Add Skill Category"})]})]})]}),"projects"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[j.projects.map((e,a)=>(0,t.jsxs)("div",{className:"p-6 border border-neutral-800 rounded-xl bg-neutral-900/50",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"font-bold text-lg",children:["Project #",a+1]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-neutral-500 font-mono",children:e.id||"New"}),(0,t.jsx)("button",{onClick:async()=>{if(!confirm("Are you sure you want to delete this project?"))return;if(e.id){let{error:t}=await b.supabase.from("projects").delete().eq("id",e.id);if(t)return void alert("Failed to delete project: "+t.message)}let t=j.projects.filter((e,t)=>t!==a);w({...j,projects:t})},className:"text-red-500 hover:text-red-400 p-1 hover:bg-white/5 rounded transition-colors",title:"Delete Project",children:(0,t.jsx)(x,{size:16})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(y,{label:"Project Title",value:e.title,onChange:e=>{let t=[...j.projects];t[a].title=e,w({...j,projects:t})}}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-neutral-400 font-medium",children:"Project Image"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{type:"text",value:e.image||"",onChange:e=>{let t=[...j.projects];t[a].image=e.target.value,w({...j,projects:t})},className:"w-full bg-neutral-900 border border-neutral-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition-all",placeholder:"Image URL..."})}),(0,t.jsxs)("label",{className:"cursor-pointer bg-neutral-800 hover:bg-neutral-700 text-white px-4 rounded-lg flex items-center justify-center transition-colors min-w-[60px]",title:"Upload to ImgBB",children:[(0,t.jsx)(m,{size:20}),(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:async e=>{let t=e.target.files?.[0];if(t){let e=await f(t);if(e){let t=[...j.projects];t[a].image=e,w({...j,projects:t})}}}})]})]}),e.image&&(0,t.jsxs)("div",{className:"mt-2 h-32 w-full bg-neutral-900 rounded-lg border border-neutral-800 overflow-hidden relative group",children:[(0,t.jsx)("img",{src:e.image,alt:"Preview",className:"w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity"}),(0,t.jsx)("a",{href:e.image,target:"_blank",className:"absolute bottom-2 right-2 bg-black/50 text-xs px-2 py-1 rounded text-white opacity-0 group-hover:opacity-100 transition-opacity",children:"View"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(y,{label:"Category",value:e.category,onChange:e=>{let t=[...j.projects];t[a].category=e,w({...j,projects:t})}}),(0,t.jsx)(y,{label:"GitHub URL",value:e.githubUrl||"",onChange:e=>{let t=[...j.projects];t[a].githubUrl=e,w({...j,projects:t})}}),(0,t.jsx)(y,{label:"Live Link",value:e.link||"",onChange:e=>{let t=[...j.projects];t[a].link=e,w({...j,projects:t})}})]}),(0,t.jsx)(N,{label:"Description",value:e.description,onChange:e=>{let t=[...j.projects];t[a].description=e,w({...j,projects:t})}})]})]},a)),(0,t.jsx)("button",{onClick:()=>w({...j,projects:[...j.projects,{title:"New Project",category:"Web",description:"",image:"",link:"",githubUrl:""}]}),className:"w-full py-4 border-2 border-dashed border-neutral-800 rounded-xl text-neutral-500 hover:text-white hover:border-neutral-600 transition-colors",children:"+ Add New Project"})]}),"posts"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Status Updates"}),(0,t.jsx)("button",{onClick:()=>w({...j,posts:[{content:"New update...",image:"",date:new Date().toISOString()},...j.posts||[]]}),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition-colors",children:"+ Add Post"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[j.posts?.map((e,a)=>(0,t.jsxs)("div",{className:"bg-neutral-900 border border-neutral-800 p-6 rounded-2xl relative group",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,t.jsx)("span",{className:"text-xs font-mono text-neutral-500",children:new Date(e.date).toLocaleDateString()}),(0,t.jsx)("button",{onClick:async()=>{if(!confirm("Are you sure you want to delete this post?"))return;if(e.id){let{error:t}=await b.supabase.from("posts").delete().eq("id",e.id);if(t)return void alert("Failed to delete post: "+t.message)}let t=j.posts.filter((e,t)=>t!==a);w({...j,posts:t})},className:"text-red-500 hover:text-white text-xs",children:"Remove"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(N,{label:"Content",value:e.content,onChange:e=>{let t=[...j.posts||[]];t[a].content=e,w({...j,posts:t})}}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-neutral-400 font-medium",children:"Post Image (Optional)"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{type:"text",value:e.image||"",onChange:e=>{let t=[...j.posts||[]];t[a].image=e.target.value,w({...j,posts:t})},className:"w-full bg-neutral-900 border border-neutral-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition-all",placeholder:"Image URL..."})}),(0,t.jsxs)("label",{className:"cursor-pointer bg-neutral-800 hover:bg-neutral-700 text-white px-4 rounded-lg flex items-center justify-center transition-colors min-w-[60px]",title:"Upload to ImgBB",children:[(0,t.jsx)(m,{size:20}),(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:async e=>{let t=e.target.files?.[0];if(t){let e=await f(t);if(e){let t=[...j.posts||[]];t[a].image=e,w({...j,posts:t})}}}})]})]}),e.image&&(0,t.jsxs)("div",{className:"mt-2 h-40 w-full bg-neutral-900 rounded-lg border border-neutral-800 overflow-hidden relative group",children:[(0,t.jsx)("img",{src:e.image,alt:"Preview",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),(0,t.jsx)("a",{href:e.image,target:"_blank",className:"absolute bottom-2 right-2 bg-black/50 text-xs px-2 py-1 rounded text-white opacity-0 group-hover:opacity-100 transition-opacity",children:"View"})]})]})]})]},a)),(!j.posts||0===j.posts.length)&&(0,t.jsx)("p",{className:"text-neutral-500 text-center py-10",children:"No posts yet."})]})]}),"messages"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,t.jsxs)("h2",{className:"text-xl font-bold text-white",children:["Inbox (",j.messages?.length||0,")"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[j.messages?.map((e,a)=>(0,t.jsxs)("div",{className:"bg-neutral-900 border border-neutral-800 p-6 rounded-2xl relative group",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-white text-lg",children:e.name}),(0,t.jsx)("a",{href:`mailto:${e.email}`,className:"text-blue-400 text-sm font-mono hover:underline",children:e.email})]}),(0,t.jsx)("span",{className:"text-xs text-neutral-500 font-mono",children:new Date(e.created_at).toLocaleDateString()})]}),(0,t.jsx)("div",{className:"bg-neutral-950/50 p-4 rounded-xl border border-neutral-800",children:(0,t.jsx)("p",{className:"text-neutral-300 text-sm whitespace-pre-wrap",children:e.message})}),(0,t.jsx)("div",{className:"mt-4 flex justify-end",children:(0,t.jsx)("button",{className:"text-red-500 text-xs hover:text-white transition-colors",onClick:async()=>{if(!confirm("Delete this message?"))return;let{error:t}=await b.supabase.from("messages").delete().eq("id",e.id);if(!t){let t=j.messages.filter(t=>t.id!==e.id);w({...j,messages:t})}},children:"Delete Message"})})]},a)),(!j.messages||0===j.messages.length)&&(0,t.jsxs)("div",{className:"text-center py-20 text-neutral-500 bg-neutral-900/30 rounded-2xl border border-neutral-800/50",children:[(0,t.jsx)(p.Mail,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),(0,t.jsx)("p",{children:"No messages in your inbox."})]})]})]})]})]})]})}function v({active:e,onClick:a,icon:s,label:l}){return(0,t.jsxs)("button",{onClick:a,className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors transition-all whitespace-nowrap ${e?"border-blue-600 text-blue-500 font-medium bg-blue-500/5":"border-transparent text-neutral-400 hover:text-white hover:bg-white/5"}`,children:[s,(0,t.jsx)("span",{className:"text-sm",children:l})]})}function y({label:e,value:a,onChange:s}){return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-neutral-400 font-medium",children:e}),(0,t.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),className:"w-full bg-neutral-900 border border-neutral-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition-all"})]})}function N({label:e,value:a,onChange:s}){return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-neutral-400 font-medium",children:e}),(0,t.jsx)("textarea",{value:a,onChange:e=>s(e.target.value),rows:4,className:"w-full bg-neutral-900 border border-neutral-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition-all resize-none"})]})}e.s(["default",()=>j],13515)}]);